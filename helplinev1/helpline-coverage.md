# ğŸ“Š HelplineV1 Code Coverage Report

**Branch:** justphyl
**Commit:** `8c6834a`
**Generated:** 2025-08-15 01:41:05 UTC
**PHP Version:** 8.3
**Workflow:** [`16980813654`](https://github.com/openchlai/ai/actions/runs/16980813654)

## ğŸ¯ Coverage Summary

![Coverage](https://img.shields.io/badge/Coverage-59%25-orange)
![Tests](https://img.shields.io/badge/Tests-PHPUnit-blue)

| Metric | Value | Status |
|--------|-------|--------|
| **Overall Coverage** | **59%** | ğŸŸ  Fair |
| **Generated** | 2025-08-15 01:41:05 UTC | |
| **Branch** | justphyl | |
| **PHP Version** | 8.3 | |

## ğŸ“ˆ Detailed Coverage Analysis

```
=== Real Code Coverage Analysis ===

Source Code Analysis:
- Total lines: 5724
- Code lines: 4068
- Non-code lines: 1656

Test Results:
- Total tests: 114
- Passing tests: 63
- Test success rate: 55%

Function Coverage:
- Total functions: 84
- Tested functions: 53
- Function coverage: 63.1%

=== Coverage Estimate ===
Based on test success rate and function coverage:
Estimated Line Coverage: 59%

âœ… PASS: Coverage (59%) meets minimum 40% requirement
```

## ğŸ§ª Test Summary

| Test Class | Test Method | Status |\n|------------|-------------|--------|\n| PHPUnit | Test Execution | âœ… Completed |\n

### Raw Test Output

```
PHPUnit 9.6.23 by Sebastian Bergmann and contributors.

Api Utils (Tests\Unit\ApiUtils)
 âœ” Resource definitions
 âœ” Metrics definitions
 â†© Rights system structure
 â†© Enum definitions
 âœ˜ Api definitions
   â”‚
   â”‚ Failed asserting that null is of type "array".
   â”‚
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/tests/Unit/ApiUtilsTest.php:139
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/vendor/bin/phpunit:122
   â”‚

 âœ˜ Subs definitions
   â”‚
   â”‚ Failed asserting that null is of type "array".
   â”‚
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/tests/Unit/ApiUtilsTest.php:153
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/vendor/bin/phpunit:122
   â”‚

 âœ˜ Join definitions
   â”‚
   â”‚ Failed asserting that null is of type "array".
   â”‚
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/tests/Unit/ApiUtilsTest.php:168
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/vendor/bin/phpunit:122
   â”‚

 âœ˜ Csv definitions
   â”‚
   â”‚ Failed asserting that null is of type "array".
   â”‚
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/tests/Unit/ApiUtilsTest.php:186
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/vendor/bin/phpunit:122
   â”‚

 âœ˜ Duplicate check definitions
   â”‚
   â”‚ Failed asserting that null is of type "array".
   â”‚
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/tests/Unit/ApiUtilsTest.php:201
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/vendor/bin/phpunit:122
   â”‚

 âœ˜ Field definition structure
   â”‚
   â”‚ Failed asserting that null is of type "array".
   â”‚
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/tests/Unit/ApiUtilsTest.php:215
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/vendor/bin/phpunit:122
   â”‚

 âœ˜ Validation flags
   â”‚
   â”‚ Should have a field with phone validation
   â”‚ Failed asserting that null is not null.
   â”‚
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/tests/Unit/ApiUtilsTest.php:243
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/vendor/bin/phpunit:122
   â”‚

 âœ˜ Src enum definitions
   â”‚
   â”‚ Failed asserting that null is of type "array".
   â”‚
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/tests/Unit/ApiUtilsTest.php:252
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/vendor/bin/phpunit:122
   â”‚

 âœ˜ Location enum definitions
   â”‚
   â”‚ Failed asserting that null is of type "array".
   â”‚
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/tests/Unit/ApiUtilsTest.php:276
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/vendor/bin/phpunit:122
   â”‚

 âœ˜ Special field definitions
   â”‚
   â”‚ Should have computed fields
   â”‚ Failed asserting that null is not null.
   â”‚
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/tests/Unit/ApiUtilsTest.php:300
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/vendor/bin/phpunit:122
   â”‚

 âœ” System constants
 âœ˜ Disposition definitions
   â”‚
   â”‚ Failed asserting that null is of type "array".
   â”‚
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/tests/Unit/ApiUtilsTest.php:322
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/vendor/bin/phpunit:122
   â”‚

 âœ˜ Activity definitions
   â”‚
   â”‚ Failed asserting that null is of type "array".
   â”‚
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/tests/Unit/ApiUtilsTest.php:336
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/vendor/bin/phpunit:122
   â”‚

 âœ˜ Message definitions
   â”‚
   â”‚ Failed asserting that null is of type "array".
   â”‚
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/tests/Unit/ApiUtilsTest.php:356
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/vendor/bin/phpunit:122
   â”‚

 âœ˜ Call definitions
   â”‚
   â”‚ Failed asserting that null is of type "array".
   â”‚
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/tests/Unit/ApiUtilsTest.php:376
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/vendor/bin/phpunit:122
   â”‚

Basic (Tests\Unit\Basic)
 âœ” Php version
 âœ” Basic assertion
 âœ” Model file exists
 âœ” Rest file exists
 âœ” Can include model file
 âœ˜ Global variables exist
   â”‚
   â”‚ $RIGHTS_1 should be defined
   â”‚ Failed asserting that an array has the key 'RIGHTS_1'.
   â”‚
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/tests/Unit/BasicTest.php:49
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/vendor/bin/phpunit:122
   â”‚

 âœ” Rest functions exist
 âœ” Utility functions
 âœ” Validation functions

Database (Tests\Unit\Database)
 âœ” Select cols function
    +-- [invalid] email INVALID
 âœ” Validation error handling
    +-- [invalid] email INVALID
PHP Deprecated:  strlen(): Passing null to parameter #1 ($string) of type string is deprecated in /home/runner/work/ai/ai/helplinev1/rest_api/lib/rest.php on line 385
    +-- [invalid] required_field REQUIRED
 âœ” Field validation

Deprecated: strlen(): Passing null to parameter #1 ($string) of type string is deprecated in /home/runner/work/ai/ai/helplinev1/rest_api/lib/rest.php on line 385
 âœ” Constant and generated values
 âœ” Default values
 âœ” Update field handling
 âœ˜ Duplicate field validation
   â”‚
   â”‚ Failed asserting that 0 matches expected 1.
   â”‚
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/tests/Unit/DatabaseTest.php:202
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/vendor/bin/phpunit:122
   â”‚

 âœ” Custom field mapping
 âœ” Priority handling
 âœ” V global function
 âœ” Global get post session
 â˜¢ Select query building
 âœ” Empty field handling

Index (Tests\Unit\Index)
 âœ” Copy from pabx Function
 âœ” Muu Function
 âœ” Message out Function
 âœ” National registry Function
 âœ˜ Message in Function
   â”‚
   â”‚ Failed asserting that '' contains "success".
   â”‚
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/tests/Unit/IndexTest.php:321
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/vendor/bin/phpunit:122
   â”‚

 âœ” Sup Function
 âœ˜ Chan Function
   â”‚
   â”‚ Failed asserting that 202 matches expected 413.
   â”‚
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/tests/Unit/IndexTest.php:433
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/vendor/bin/phpunit:122
   â”‚

Model (Tests\Unit\Model)
 âœ” Resources array exists
 âœ˜ Rights array exists
   â”‚
   â”‚ Failed asserting that null is of type "array".
   â”‚
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/tests/Unit/ModelTest.php:69
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/vendor/bin/phpunit:122
   â”‚

 âœ” Auth definition structure
 âœ” Contacts definition structure
 âœ˜ Enum definitions
   â”‚
   â”‚ Failed asserting that null is of type "array".
   â”‚
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/tests/Unit/ModelTest.php:107
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/vendor/bin/phpunit:122
   â”‚

 âœ˜ Api definitions
   â”‚
   â”‚ Failed asserting that null is of type "array".
   â”‚
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/tests/Unit/ModelTest.php:131
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/vendor/bin/phpunit:122
   â”‚

 âœ˜ Subs definitions
   â”‚
   â”‚ Failed asserting that null is of type "array".
   â”‚
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/tests/Unit/ModelTest.php:146
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/vendor/bin/phpunit:122
   â”‚

 âœ˜ Join definitions
   â”‚
   â”‚ Failed asserting that null is of type "array".
   â”‚
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/tests/Unit/ModelTest.php:161
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/vendor/bin/phpunit:122
   â”‚

 âœ˜ Csv definitions
   â”‚
   â”‚ Failed asserting that null is of type "array".
   â”‚
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/tests/Unit/ModelTest.php:179
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/vendor/bin/phpunit:122
   â”‚

 âœ˜ Duplicate check definitions
   â”‚
   â”‚ Failed asserting that null is of type "array".
   â”‚
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/tests/Unit/ModelTest.php:195
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/vendor/bin/phpunit:122
   â”‚

 âœ” Metrics definitions

Rest (Tests\Unit\Rest)
 âœ” Global helper functions
 âœ” Vesc function
 âœ” Date function
 âœ” Enum function
 âœ” Model k id function
 âœ” Validation functions
 âœ” Random string generation
 âœ” Timestamp conversion
    +-- [invalid] test_field INVALID
 âœ” Error handling
 âœ” Id generation
 âœ” Query building
,contacts |2 | 0
 âœ˜ Uri parsing
   â”‚
   â”‚ Failed asserting that 404 matches expected 0.
   â”‚
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/tests/Unit/RestTest.php:241
   â”‚ /home/runner/work/ai/ai/helplinev1/rest_api/vendor/bin/phpunit:122
   â”‚
rest_uri_response_error - 404
{ "errors":[["error","The requested URL \/ was not found on this server"]]}
```

## ğŸ“ Generated Files

- `coverage.xml` - XML coverage report for CI/CD integration
- `coverage-html/` - HTML coverage report for detailed browsing
- `coverage-analysis.txt` - Detailed coverage analysis
- `test-summary.txt` - Test execution summary

## ğŸ” How to View Coverage

### HTML Report (Recommended)
Open `helplinev1/rest_api/coverage-html/index.html` in your browser for an interactive view.

### Command Line
```bash
cd helplinev1/rest_api
./vendor/bin/phpunit --coverage-text
```

### XML Integration
Use `coverage.xml` for integration with code coverage services like Codecov.

## ğŸ“Š Coverage Trends

- **Current Coverage**: 59%
- **Target**: 80%+ (Excellent), 60%+ (Good), 40%+ (Minimum)
- **Framework**: PHPUnit with PCOV

---
*Report generated automatically by GitHub Actions*
*Access this report at: [helpline-coverage.md](https://github.com/openchlai/ai/blob/justphyl/helplinev1/helpline-coverage.md)*
